<!DOCTYPE html>
<html lang="en">

<head>
    <title>首页</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="framework\style\weui.css">
    <link rel="stylesheet" type="text/css" href="framework/example/example.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css">

    <script src="framework/example/zepto.min.js"></script>
    <script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <script src="https://res.wx.qq.com/open/libs/weuijs/1.0.0/weui.min.js"></script>
    <script src="framework/example/example.js"></script>
    <link rel="stylesheet" href="//at.alicdn.com/t/font_q3imcbbriu9xusor.css">
</head>


<body>

    <div class="page tabbar js_show ">
        <div class="page__bd" style="height: 100%;">
            <div class="weui-tab">
                <div class="weui-tab__panel">
                    <!--底部标签 中的内容  -->
                    <!-- 搜索 -->
                    <div class="page__bd">
                        <!--<a href="javascript:;" class="weui-btn weui-btn_primary">点击展现searchBar</a>-->
                        <div class="weui-search-bar" id="searchBar">
                            <form class="weui-search-bar__form">
                                <div class="weui-search-bar__box">
                                    <i class="weui-icon-search"></i>
                                    <input type="search" class="weui-search-bar__input" id="searchInput" placeholder="搜索" required/>
                                    <a href="javascript:" class="weui-icon-clear" id="searchClear"></a>
                                </div>
                                <label class="weui-search-bar__label" id="searchText">
                                        <i class="weui-icon-search"></i>
                                        <span>搜索</span>
                                    </label>
                            </form>
                            <a href="javascript:" class="weui-search-bar__cancel-btn" id="searchCancel">取消</a>
                        </div>
                        <div class="weui-cells searchbar-result" id="searchResult" style="display: none;">
                            <div class="weui-cell weui-cell_access">
                                <div class="weui-cell__bd weui-cell_primary">
                                    <p>实时搜索文本</p>
                                </div>
                            </div>
                            <div class="weui-cell weui-cell_access">
                                <div class="weui-cell__bd weui-cell_primary">
                                    <p>实时搜索文本</p>
                                </div>
                            </div>
                            <div class="weui-cell weui-cell_access">
                                <div class="weui-cell__bd weui-cell_primary">
                                    <p>实时搜索文本</p>
                                </div>
                            </div>
                            <div class="weui-cell weui-cell_access">
                                <div class="weui-cell__bd weui-cell_primary">
                                    <p>实时搜索文本</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 搜索 -->

                    <script type="text/javascript">
                        $(function() {
                            var $searchBar = $('#searchBar'), //搜索整体
                                $searchResult = $('#searchResult'), //下面的搜索出来的东西
                                $searchText = $('#searchText'), //搜索
                                $searchInput = $('#searchInput'), //搜索的input
                                $searchClear = $('#searchClear'), //
                                $searchCancel = $('#searchCancel'); //取消

                            function hideSearchResult() {
                                $searchResult.hide();
                                $searchInput.val('');
                            }

                            function cancelSearch() {
                                hideSearchResult();
                                $searchBar.removeClass('weui-search-bar_focusing');
                                $searchText.show();
                            }

                            $searchText.on('click', function() {
                                $searchBar.addClass('weui-search-bar_focusing');
                                $searchInput.focus();
                            });
                            $searchInput
                                .on('blur', function() {
                                    if (!this.value.length) cancelSearch();
                                })
                                .on('input', function() {
                                    if (this.value.length) {
                                        $searchResult.show();
                                    } else {
                                        $searchResult.hide();
                                    }
                                });
                            $searchClear.on('click', function() {
                                hideSearchResult();
                                $searchInput.focus();
                            });
                            $searchCancel.on('click', function() {
                                cancelSearch();
                                $searchInput.blur();
                            });
                        });
                    </script>
                    <!--    -->
                    <div class="page__bd">

                        <div class="wx-line weui-loadmore weui-loadmore_line">
                            <div class="wx-box">
                                <strong class="wx-s wx-hold ">为你优选</strong>
                                <small class="wx-s">发现更多好货</small>
                            </div>
                        </div>
                    </div>

                    <!-- 九宫格 -->
                    <div class="weui-grids">
                        <a href="javascript:;" class="weui-grid">
                            <div class="weui-grid__icon">
                                <img src="\framework\lg.jpg" alt="">
                                <p class="ps " style="font-size:12px;">精晟小太阳悬浮式键54545盘电脑笔记本盘 </p>
                                <button type="buttom" class="weui-btn  weui-btn_mini weui-btn_default">购购购购&nbsp;&gt;</button>
                            </div>
                        </a>
                        <a href="javascript:;" class="weui-grid">
                            <div class="weui-grid__icon">
                                <img src="\framework\lg.jpg" alt="">
                            </div>
                            <p class="ps" style="font-size:12px;">精晟小太阳悬浮式键盘电脑笔记本盘 </p>
                            <button type="buttom" class="weui-btn  weui-btn_mini weui-btn_default">购购购&nbsp;&gt;</button>
                        </a>
                        <a href="javascript:;" class="weui-grid">
                            <div class="weui-grid__icon">
                                <img src="\framework\lg.jpg" alt="">
                            </div>
                            <p class="ps" style="font-size:12px;">精晟小太阳悬浮式键盘电脑笔记本盘 </p>
                            <button type="buttom" class="weui-btn  weui-btn_mini weui-btn_default">购购购&nbsp;&gt;</button>
                        </a>
                        <a href="javascript:;" class="weui-grid">
                            <div class="weui-grid__icon">
                                <img src="\framework\lg.jpg" alt="">
                            </div>
                            <p class="ps" style="font-size:12px;">精晟小太阳悬浮式键盘电脑笔记本盘 </p>
                            <button type="buttom" class="weui-btn  weui-btn_mini weui-btn_default">购购购&nbsp;&gt;</button>
                        </a>
                        <a href="javascript:;" class="weui-grid">
                            <div class="weui-grid__icon">
                                <img src="\framework\lg.jpg" alt="">
                            </div>
                            <p class="ps" style="font-size:12px;">精晟小太阳悬浮式键盘电脑笔记本盘 </p>
                            <button type="buttom" class="weui-btn  weui-btn_mini weui-btn_default">购购购&nbsp;&gt;</button>
                        </a>
                        <a href="javascript:;" class="weui-grid">
                            <div class="weui-grid__icon">
                                <img src="\framework\lg.jpg" alt="">
                            </div>
                            <p class="ps" style="font-size:12px;">精晟小太阳悬浮式键盘电脑笔记悬浮式键盘电脑笔记悬浮式键盘电脑笔记本盘 </p>
                            <button type="buttom" class="weui-btn  weui-btn_mini weui-btn_default">购购购&nbsp;&gt;</button>
                        </a>
                        <a href="javascript:;" class="weui-grid">
                            <div class="weui-grid__icon">
                                <img src="\framework\lg.jpg" alt="">
                            </div>
                            <p class="ps" style="font-size:12px;">精晟小太盘电脑笔记本盘ｄｓｆｈｄｊｋｌ </p>
                            <button type="buttom" class="weui-btn  weui-btn_mini weui-btn_default">购购购的&nbsp;&gt;</button>
                        </a>
                        <a href="javascript:;" class="weui-grid">
                            <div class="weui-grid__icon">
                                <img src="\framework\lg.jpg" alt="">
                            </div>
                            <p class="ps" style="font-size:12px;">精晟小式键盘电脑笔记本盘 </p>
                            <button type="buttom" class="weui-btn  weui-btn_mini weui-btn_default">购购购&nbsp;&gt;</button>
                        </a>
                        <a href="javascript:;" class="weui-grid">
                            <div class="weui-grid__icon">
                                <img src="\framework\lg.jpg" alt="">
                            </div>
                            <p class="ps" style="font-size:12px;">精晟本盘 </p>
                            <button type="buttom" class="weui-btn  weui-btn_mini weui-btn_default">购购购&nbsp;&gt;</button>
                        </a>
                    </div>
                    <div class="page__bd">
                        <!-- <div class="weui-loadmore">
                            <i class="weui-loading"></i>
                            <span class="weui-loadmore__tips">正在加载</span>
                        </div> -->
                        <!-- <div class="weui-loadmore weui-loadmore_line">
                            <span class="weui-loadmore__tips">暂无数据</span>
                        </div> -->
                        <div class="weui-loadmore weui-loadmore_line weui-loadmore_dot">
                            <span class="weui-loadmore__tips"></span>
                        </div>
                    </div>


                    <!-- 中间部分的内容结尾 -->
                </div>
                <div class="weui-tabbar ">
                    <a :href="#/hc" class="weui-tabbar__item weui-bar__item_on">
                        <i class="iconfont icon-shouye green"></i>
                        <p class="weui-tabbar__label">首页</p>
                    </a>
                    <a class="weui-tabbar__item">
                        <i class="iconfont icon-fenlei"></i>
                        <p class="weui-tabbar__label">分类</p>
                    </a>
                    <a href="javascript:;" class="weui-tabbar__item" data-id="input">
                        <span style="display: inline-block;position: relative;">
                           <i class="iconfont icon-icon"></i>
                        <span class="weui-badge" style="position: absolute;top: -2px;right: -13px;">8</span>
                        </span>
                        <p class="weui-tabbar__label">购物车</p>
                    </a>
                    <a href="javascript:;" class="weui-tabbar__item">
                        <span style="display: inline-block;position: relative;">
                          <i class="iconfont icon-wode3"></i>
                        <span class="weui-badge weui-badge_dot" style="position: absolute;top: 0;right: -6px;"></span>
                        </span>
                        <p class="weui-tabbar__label">我</p>
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>

<script type="text/html" id="tpl_input">
    1111111111
</script>
<script>
    // console.log($('.ps').length)
    const ps = $('.ps').length
    for (var i = 0; i < ps; i++) {
        var hs = $('.ps').height();
        // console.log($('.ps').eq(i).text().length)
        // console.log($('.ps').eq(i).height())
        if ($('.ps').eq(i).text().length > 15) {
            $('.ps').eq(i).text(($('.ps').eq(i).text().substring(0, 16)));
            $('.ps').eq(i).html($('.ps').eq(i).html() + '...');
            // $('.ps').eq(i).text(($('.ps').eq(i).text().replace(/(\s)*([a-zA-Z0-9]+|\W)(\.\.\.)?$/, "...")))
        }

    }
</script>

</html>